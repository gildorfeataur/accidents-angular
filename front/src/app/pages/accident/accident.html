<div class="accident-container">
  <div class="accident-header">
    <button class="back-button" (click)="goBack()">
      <span class="back-icon">‚Üê</span>
      <span class="back-text">–ù–∞–∑–∞–¥</span>
    </button>
    <div class="header-info">
      <h1 class="accident-title">{{ accident?.title }}</h1>
    </div>
  </div>

  @if (loading) {
  <div class="loading">
    <mat-spinner></mat-spinner>
    <p>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –ø—Ä–æ –∞–≤–∞—Ä—ñ—é...</p>
  </div>
  }

  @if (error) {
  <div class="error">
    <div class="error-icon">‚ö†</div>
    <p>{{ error }}</p>
    <button class="retry-btn" (click)="loadAccident()">–°–ø—Ä–æ–±—É–≤–∞—Ç–∏ –∑–Ω–æ–≤—É</button>
  </div>
  }

  @if (!loading && !error && !accident) {
  <div class="no-data">
    <div class="no-data-icon">üìÑ</div>
    <p>–ê–≤–∞—Ä—ñ—é –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ</p>
    <a routerLink="/accidents-table" class="back-link">–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ —Å–ø–∏—Å–∫—É</a>
  </div>
  }

  @if (!loading && !error && accident) {
  <div class="accident-details">
    <div class="details-card">
      <h2 class="card-title">–û—Å–Ω–æ–≤–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</h2>
      <div class="details-grid">
        <div class="detail-item">
          <span class="detail-label">–ù–∞–∑–≤–∞ –∞–≤–∞—Ä—ñ—ó:</span>
          <span class="detail-value">{{ accident.title }}</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">–ö–∞—Ç–µ–≥–æ—Ä—ñ—è:</span>
          <span class="detail-value">
            <span class="accident-type">{{ accident.category }}</span>
          </span>
        </div>
        <div class="detail-item">
          <span class="detail-label">–í–∞–∂–∫—ñ—Å—Ç—å:</span>
          <span class="detail-value">
            <span class="status-badge status-{{ accident.severity }}">{{ accident.severity }}</span>
          </span>
        </div>
        <div class="detail-item">
          <span class="detail-label">–ß–∞—Å –ø–æ–¥—ñ—ó:</span>
          <span class="detail-value">{{ accident.createdAt | date:'dd.MM.yyyy HH:mm:ss' }}</span>
        </div>
      </div>
    </div>

    <div class="location-card">
      <h2 class="card-title">–ú—ñ—Å—Ü–µ–∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è</h2>
      <div class="location-info">
        <div class="coordinates">
          <div class="coordinate-item">
            <span class="coordinate-label">–®–∏—Ä–æ—Ç–∞:</span>
            <span class="coordinate-value">{{ accident.lat }}¬∞</span>
          </div>
          <div class="coordinate-item">
            <span class="coordinate-label">–î–æ–≤–≥–æ—Ç–∞:</span>
            <span class="coordinate-value">{{ accident.lng }}¬∞</span>
          </div>
        </div>
      </div>
    </div>
  </div>
  }
</div>