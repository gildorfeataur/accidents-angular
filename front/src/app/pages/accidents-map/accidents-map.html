<app-navigation></app-navigation>

<app-filter></app-filter>

<section class="map" [class.loading]="accidentsStore.loading()" [class.error]="accidentsStore.error()">
  @if (accidentsStore.loading()) {
  <div class="loading-container">
    <mat-spinner></mat-spinner>
    <p>Завантаження даних...</p>
  </div>
  }

  @if (accidentsStore.error()) {
  <div class="error-container">
    <p>{{ accidentsStore.error() }}</p>
  </div>
  }

  @if (!accidentsStore.loading() && !accidentsStore.error() && accidentsStore.accidents().length === 0) {
  <div class="no-data">
    <p>Немає даних про аварії</p>
  </div>
  }


  <div id="map" class="map-container"></div>

</section>